---
title: "34.åœ¨æ’åºæ•°ç»„ä¸­æŸ¥æ‰¾å…ƒç´ çš„ç¬¬ä¸€ä¸ªå’Œæœ€åä¸€ä¸ªä½ç½®"
description: "34.åœ¨æ’åºæ•°ç»„ä¸­æŸ¥æ‰¾å…ƒç´ çš„ç¬¬ä¸€ä¸ªå’Œæœ€åä¸€ä¸ªä½ç½®"
keywords: "34.åœ¨æ’åºæ•°ç»„ä¸­æŸ¥æ‰¾å…ƒç´ çš„ç¬¬ä¸€ä¸ªå’Œæœ€åä¸€ä¸ªä½ç½®"

date: 2023-07-08T19:14:13+08:00
lastmod: 2023-07-08T19:14:13+08:00

categories:
  - leetcode
tags:
  - æ¯æ—¥ä¸€é¢˜


# åŸæ–‡ä½œè€…
author: zzzi
# å¼€å¯æ•°å­¦å…¬å¼æ¸²æŸ“ï¼Œå¯é€‰å€¼ï¼š mathjax, katex
# Support Math Formulas render, options: mathjax, katex
math: mathjax

# å¼€å¯æ–‡ç« ç½®é¡¶ï¼Œæ•°å­—è¶Šå°è¶Šé å‰
# Sticky post set-top in home page and the smaller nubmer will more forward.
#weight: 1
# å…³é—­æ–‡ç« ç›®å½•åŠŸèƒ½
# Disable table of content
#toc: false


# åŸæ–‡é“¾æ¥
# Post's origin link URL
#link:
# å›¾ç‰‡é“¾æ¥ï¼Œç”¨åœ¨open graphå’Œtwitterå¡ç‰‡ä¸Š
# Image source link that will use in open graph and twitter card
#imgs:
# åœ¨é¦–é¡µå±•å¼€å†…å®¹
# Expand content on the home page
#expand: true
# å¤–éƒ¨é“¾æ¥åœ°å€ï¼Œè®¿é—®æ—¶ç›´æ¥è·³è½¬
# It's means that will redirecting to external links
#extlink:
# åœ¨å½“å‰é¡µé¢å…³é—­è¯„è®ºåŠŸèƒ½
# Disabled comment plugins in this post
#comment:
#  enable: false

# ç»å¯¹è®¿é—®è·¯å¾„
# Absolute link for visit
#url: "34.åœ¨æ’åºæ•°ç»„ä¸­æŸ¥æ‰¾å…ƒç´ çš„ç¬¬ä¸€ä¸ªå’Œæœ€åä¸€ä¸ªä½ç½®.html"


# å¼€å¯å„ç§å›¾æ¸²æŸ“ï¼Œå¦‚æµç¨‹å›¾ã€æ—¶åºå›¾ã€ç±»å›¾ç­‰
# Enable chart render, such as: flow, sequence, classes etc
#mermaid: true
---

>ğŸ”¢ 34.åœ¨æ’åºæ•°ç»„ä¸­æŸ¥æ‰¾å…ƒç´ çš„ç¬¬ä¸€ä¸ªå’Œæœ€åä¸€ä¸ªä½ç½®

ç»™ä½ ä¸€ä¸ªæŒ‰ç…§éé€’å‡é¡ºåºæ’åˆ—çš„æ•´æ•°æ•°ç»„ numsï¼Œå’Œä¸€ä¸ªç›®æ ‡å€¼ targetã€‚è¯·ä½ æ‰¾å‡ºç»™å®šç›®æ ‡å€¼åœ¨æ•°ç»„ä¸­çš„å¼€å§‹ä½ç½®å’Œç»“æŸä½ç½®ã€‚

å¦‚æœæ•°ç»„ä¸­ä¸å­˜åœ¨ç›®æ ‡å€¼ targetï¼Œè¿”å› [-1, -1]ã€‚

ä½ å¿…é¡»è®¾è®¡å¹¶å®ç°æ—¶é—´å¤æ‚åº¦ä¸º `O(log n)` çš„ç®—æ³•è§£å†³æ­¤é—®é¢˜ã€‚

<!--more-->

## æ€è·¯

### åŸºæœ¬æ€æƒ³

å¦‚æœä¸è¦æ±‚æ—¶é—´å¤æ‚åº¦çš„è¯ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨éå†çš„æ–¹å¼ï¼Œä»å·¦åˆ°å³éå†ï¼Œç¬¬ä¸€ä¸ªç›¸ç­‰çš„å…ƒç´ çš„ä½ç½®å°±æ˜¯å¼€å§‹ä½ç½®ï¼Œæœ€åä¸€ä¸ªä¸ç›¸ç­‰çš„å…ƒç´ çš„å‰ä¸€ä¸ªä½ç½®å°±æ˜¯ç»“æŸä½ç½®ï¼Œä½†æ˜¯æœ¬é¢˜ä¸­å¼ºè°ƒäº†æ—¶é—´å¤æ‚åº¦

ç”±äºæ˜¯æ’åºæ•°ç»„ï¼Œæ‰€ä»¥å¯ä»¥è€ƒè™‘**äºŒåˆ†æŸ¥æ‰¾**ï¼Œå…ˆæ‰¾åˆ°ç›¸ç­‰çš„å…ƒç´ 

æ‰¾åˆ°ä¹‹åï¼Œå‘å·¦çš„ç¬¬ä¸€ä¸ªä¸ç›¸ç­‰ä½ç½®çš„ä¸‹ä¸€ä¸ªä½ç½®å°±æ˜¯å¼€å§‹ä½ç½®ï¼Œå‘å³çš„ç¬¬ä¸€ä¸ªä¸ç›¸ç­‰ä½ç½®çš„å‰ä¸€ä¸ªä½ç½®å°±æ˜¯ç»“æŸä½ç½®

æŸ¥æ‰¾å¼€å§‹å’Œç»“æŸä½ç½®æ—¶éœ€è¦æ³¨æ„ï¼Œé˜²æ­¢ä¸‹æ ‡è¶Šç•Œï¼Œåˆ°äº†æ•°ç»„çš„ä¸¤ç«¯å°±ä¼š**å¼ºåˆ¶**ç»“æŸï¼Œæ­¤æ—¶ä¼šæœ‰ä¸¤ç§æƒ…å†µï¼Œä¸€ç§æ˜¯ä¸¤ç«¯çš„ä½ç½®æ—¶å¼€å§‹æˆ–ç»“æŸä½ç½®

æ­¤æ—¶`nums[right]==target`æˆ–è€…`nums[right]==target`

æ•°ç»„çš„ä¸¤ç«¯å°±æ˜¯ç›®æ ‡ï¼Œå¦‚æœåªæ˜¯å•çº¯çš„åˆ°äº†æ•°ç»„ä¸¤ç«¯ï¼Œå¹¶ä¸”æ•°ç»„ä¸¤ç«¯çš„å…ƒç´ å¹¶ä¸æ˜¯ï¼Œç›®æ ‡ï¼Œæ­¤æ—¶å°±éœ€è¦æ‰§è¡Œ`left+1`æˆ–è€…`right-1`ï¼Œç†è§£ä¸‹é¢çš„ä»£ç å³å¯

~~~C++
int left=index,right=index;
//å¢åŠ left!=0æ˜¯ä¸ºäº†é˜²æ­¢ä¸‹æ ‡è¶Šç•Œ
while(nums[left]==target && left!=0){
    left--;
}
//æ‰¾åˆ°äº†å¼€å§‹ä½ç½®ï¼Œåˆ¤æ–­æ˜¯åˆ°äº†å¼€å¤´ç»“æŸè¿˜æ˜¯ä¸ç›¸ç­‰ç»“æŸ
index=nums[left]==target?left:left+1;
res[0]=index;
//å¢åŠ right!=nums.size()-1æ˜¯ä¸ºäº†é˜²æ­¢ä¸‹æ ‡è¶Šç•Œ
while(nums[right]==target && right!=nums.size()-1){
    right++;
}
//æ‰¾åˆ°äº†ç»“æŸä½ç½®,åˆ¤æ–­æ˜¯åˆ°äº†æœ«å°¾ç»“æŸè¿˜æ˜¯ä¸ç›¸ç­‰ç»“æŸ
index=nums[right]==target?right:right-1;
res[1]=index;
~~~

whileå¾ªç¯ç»“æŸå°±éœ€è¦åˆ†æƒ…å†µè®¨è®ºï¼Œç›´æ¥ä½¿ç”¨ä¸‰ç›®è¿ç®—ç¬¦åˆ†æƒ…å†µ

### æ‰§è¡Œæµç¨‹

## ä»£ç 

æ ¹æ®ä»¥ä¸Šåˆ†æï¼Œå¾—å‡ºä»¥ä¸‹ä»£ç ï¼š

~~~C++
class Solution {
public:
    vector<int> searchRange(vector<int>& nums, int target) {
        //æ‰¾åˆ°ç›®æ ‡å…ƒç´ çš„å¤§æ¦‚ä½ç½®
        int index=binarySearch(nums,0,nums.size()-1,target);
        vector<int> res(2,-1);
        if(index==-1){
            return res;
        }else{
            int left=index,right=index;
            //å¢åŠ left!=0æ˜¯ä¸ºäº†é˜²æ­¢ä¸‹æ ‡è¶Šç•Œ
            while(left!=0&&nums[left]==target){
                left--;
            }
            //æ‰¾åˆ°äº†å¼€å§‹ä½ç½®ï¼Œåˆ¤æ–­æ˜¯åˆ°äº†å¼€å¤´ç»“æŸè¿˜æ˜¯ä¸ç›¸ç­‰ç»“æŸ
            index=nums[left]==target?left:left+1;
            res[0]=index;
            //å¢åŠ right!=nums.size()-1æ˜¯ä¸ºäº†é˜²æ­¢ä¸‹æ ‡è¶Šç•Œ
            //åº”è¯¥å…ˆåˆ¤æ–­ä¸‹æ ‡æ˜¯å¦è¶Šç•Œï¼Œç„¶åå†è®¿é—®å…ƒç´ 
            while(right!=nums.size()-1&&nums[right]==target){
                right++;
            }
            //æ‰¾åˆ°äº†ç»“æŸä½ç½®,åˆ¤æ–­æ˜¯åˆ°äº†æœ«å°¾ç»“æŸè¿˜æ˜¯ä¸ç›¸ç­‰ç»“æŸ
            index=nums[right]==target?right:right-1;
            res[1]=index;
        }
        return res;
    }
    int binarySearch(vector<int> &nums,int begin,int end ,int target){
        if(begin>end)
            return -1;
        else{//èŒƒå›´åˆæ³•
            int index=(begin+end)/2;
            if(nums[index]>target){//ç›®æ ‡åœ¨å·¦è¾¹
                return binarySearch(nums,begin,index-1,target);
            }
            else if(nums[index]<target){//ç›®æ ‡åœ¨å³è¾¹
                 return binarySearch(nums,index+1,end,target);
            }else{//æ‰¾åˆ°ç›®æ ‡
                return index;
            }
        }
    }
};
~~~

## æ€»ç»“

è§„å®šäº†æ—¶é—´å¤æ‚åº¦ï¼Œåˆ™ä½¿ç”¨äºŒåˆ†æŸ¥æ‰¾æ‰¾åˆ°å¯¹åº”çš„ä½ç½®ï¼Œç„¶åä¸ºäº†ä¸‹æ ‡è¶Šç•Œï¼Œåˆ°äº†æ•°ç»„ä¸¤ç«¯å¼ºåˆ¶ç»“æŸæœç´¢ï¼Œæ­¤æ—¶éœ€è¦åˆ¤æ–­æ˜¯åˆ°äº†æ•°ç»„ä¸¤ç«¯å¼ºåˆ¶ç»“æŸè¿˜æ˜¯é‡åˆ°äº†ä¸ç›¸ç­‰çš„å…ƒç´ ï¼Œæœ‰ä¸‹é¢ä¸¤ç§æƒ…å†µï¼š

1. nums=[1,1,1,1],target=1,æ­¤æ—¶å› ä¸ºåˆ°äº†æ•°ç»„ä¸¤ç«¯å¼ºåˆ¶ç»“æŸ
2. nums=[1,2,2,3],target=2ï¼Œæ­¤æ—¶å› ä¸ºé‡åˆ°äº†ä¸ç›¸ç­‰å…ƒç´ ç»“æŸ
